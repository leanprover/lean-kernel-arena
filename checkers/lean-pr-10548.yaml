version: "2026-01-10"
description: |
  The official Lean 4 kernel checker implementation, with the changes from
  [PR #10548](https://github.com/leanprover/lean4/pull/10548).

  Since this PR changes the representation of recursors, this involves crude hacks to the parser and
  disables the check that the recursors in the environment match the generated ones.
dir: official
build: |
  echo leanprover/lean4-pr-releases:pr-release-10548-6466e5d > lean-toolchain
  sed -i 's/rev = "joachim_parse_fixes"/rev = "joachim_parse_fixes_pr-10548"/' lakefile.toml
  sed -i 's,rev = "b7398199245524275543dec6113229c9bb4902e5",rev = "joachim/arena-pr-10548",' lakefile.toml
  lake update lean4export
  lake update Lean4Checker
  lake build
run: .lake/build/bin/kernel "$IN"
